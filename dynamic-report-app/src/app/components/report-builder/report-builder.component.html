<div class="max-w-5xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">ðŸ“ˆ Report Builder</h2>

  <!-- Section: Filters -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-2">Filters</h3>
    <div
      *ngFor="let filter of filters; let i = index"
      class="flex flex-wrap sm:flex-nowrap items-center gap-2 mb-2"
    >
      <select [(ngModel)]="filter.column" class="form-select border rounded p-2 w-full sm:w-auto">
        <option *ngFor="let col of availableColumns" [value]="col.name">{{ col.name }}</option>
      </select>

      <select [(ngModel)]="filter.operator" class="form-select border rounded p-2 w-full sm:w-auto">
        <option value="=">=</option>
        <option value="!=">!=</option>
        <option value=">">&gt;</option>
        <option value="<">&lt;</option>
        <option value="like">LIKE</option>
      </select>

      <input
        [(ngModel)]="filter.value"
        placeholder="Value"
        class="form-input border rounded p-2 w-full sm:w-40"
      />

      <button
        (click)="removeFilter(i)"
        class="text-red-500 hover:underline text-sm"
      >
        Remove
      </button>
    </div>
    <button (click)="addFilter()" class="text-sm text-blue-600 hover:underline mt-1">+ Add Filter</button>
  </div>

  <!-- Section: Group By -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-2">Group By</h3>
    <select [(ngModel)]="groupBy" class="form-select border rounded p-2 w-full sm:w-auto">
      <option value="">-- Select column --</option>
      <option *ngFor="let col of availableColumns" [value]="col.name">{{ col.name }}</option>
    </select>
  </div>

  <!-- Section: Sorting -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-2">Sort By</h3>
    <div class="flex flex-wrap sm:flex-nowrap gap-2">
      <select [(ngModel)]="sortBy.column" class="form-select border rounded p-2 w-full sm:w-auto">
        <option *ngFor="let col of availableColumns" [value]="col.name">{{ col.name }}</option>
      </select>

      <select [(ngModel)]="sortBy.direction" class="form-select border rounded p-2 w-full sm:w-auto">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
      </select>
    </div>
  </div>

  <!-- Section: Axis Mapping -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-2">Axis Mapping</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <div>
        <label class="block mb-1 text-sm font-medium text-gray-700">X-Axis</label>
        <select [(ngModel)]="xAxis" class="form-select border rounded p-2 w-full">
          <option *ngFor="let col of availableColumns" [value]="col.name">{{ col.name }}</option>
        </select>
      </div>
      <div>
        <label class="block mb-1 text-sm font-medium text-gray-700">Y-Axis</label>
        <select [(ngModel)]="yAxis" class="form-select border rounded p-2 w-full">
          <option *ngFor="let col of availableColumns" [value]="col.name">{{ col.name }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Save Config Button -->
  <button
    (click)="saveConfig()"
    class="bg-black text-white px-5 py-2 rounded-lg hover:bg-gray-800 transition duration-150 w-full sm:w-auto"
  >
    Save Configuration
  </button>
</div>
